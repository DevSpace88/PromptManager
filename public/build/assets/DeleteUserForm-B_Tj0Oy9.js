import{f as n,C as y,g,aQ as k,r as _,c as C,o as B,d as e,i as h,b as x,w as p,e as m,ao as D,q as f,u as t,n as U,t as E,a6 as F,F as M}from"./app-BMtBWTXu.js";const V={class:"modal-dialog modal-dialog-popout",role:"document"},A={class:"modal-content"},N={class:"block-content fs-sm"},P={class:"mb-4"},S={class:"block-content block-content-full bg-body d-flex justify-content-end gap-1"},I=["disabled"],T={__name:"DeleteUserForm",setup(K){const d=n(!1),r=n(null),l=n(null),a=n(null),o=y({password:""}),b=()=>{a.value.show(),d.value=!0},i=()=>{o.delete("/profile",{onSuccess:()=>c(),onError:()=>r.value.focus(),onFinish:()=>o.reset()})},c=(u=!0)=>{u&&a.value.hide(),d.value=!1,o.clearErrors(),o.reset()};return g(()=>{a.value=new bootstrap.Modal(l.value),l.value.addEventListener("shown.bs.modal",()=>{r.value.focus()}),l.value.addEventListener("hide.bs.modal",()=>{c(!1)})}),k(()=>{a.value&&(a.value.hide(),a.value.dispose())}),(u,s)=>{const v=_("BaseBlock");return B(),C(M,null,[e("button",{type:"button",class:"btn btn-danger",onClick:b},s[1]||(s[1]=[e("i",{class:"fa fa-fw fa-times opacity-50"},null,-1),h(" Delete Account ")])),e("div",{ref_key:"modalContainer",ref:l,id:"modal",class:"modal fade",tabindex:"-1",role:"dialog","aria-labelledby":"modal","aria-hidden":"true"},[e("div",V,[e("div",A,[x(v,{title:"Are you sure?",transparent:"",class:"mb-0"},{options:p(()=>s[2]||(s[2]=[e("button",{type:"button",class:"btn-block-option","data-bs-dismiss":"modal","aria-label":"Close"},[e("i",{class:"fa fa-fw fa-times"})],-1)])),content:p(()=>[e("div",N,[s[4]||(s[4]=e("p",null," Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1)),e("div",P,[s[3]||(s[3]=e("label",{class:"form-label sr-only",for:"password2"},"Password",-1)),m(e("input",{id:"password2",type:"password",ref_key:"passwordInput",ref:r,"onUpdate:modelValue":s[0]||(s[0]=w=>t(o).password=w),class:f(["form-control form-control-lg form-control-alt",{"is-invalid":t(o).errors.password}]),placeholder:"Password",onKeyup:D(i,["enter"])},null,34),[[U,t(o).password]]),m(e("div",{class:"invalid-feedback"},E(t(o).errors.password),513),[[F,t(o).errors.password]])])]),e("div",S,[s[5]||(s[5]=e("button",{type:"button",class:"btn btn-sm btn-alt-secondary me-1","data-bs-dismiss":"modal"}," Cancel ",-1)),e("button",{type:"button",class:f(["btn btn-sm btn-danger",{"opacity-25":t(o).processing}]),disabled:t(o).processing,onClick:i}," Delete Account ",10,I)])]),_:1})])])],512)],64)}}};export{T as default};
