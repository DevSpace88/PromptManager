import{C as S,f as p,g as H,r as U,a as Y,c as a,o as d,b as _,d as e,u as t,m as z,w as y,e as m,F as x,h as M,i as r,j as E,k as V,l as u,v as W,t as n,n as G,p as O,q as k,s as $}from"./app-BMtBWTXu.js";const J={class:"content"},Q={class:"row"},X=["onClick"],Z={key:0,class:"py-3 text-center"},ee=["onClick"],le={key:1},te={class:"fw-medium d-flex align-items-center"},se={key:0,class:"badge bg-success ms-2"},oe={class:"fs-sm text-muted"},ae={class:"btn-group"},de=["onClick"],ie=["onClick"],ne={class:"modal fade",id:"modal-add-api-key",tabindex:"-1",role:"dialog","aria-labelledby":"modal-add-api-key","aria-hidden":"true"},re={class:"modal-dialog modal-dialog-centered",role:"document"},ce={class:"modal-content"},be={class:"block block-rounded block-themed block-transparent mb-0"},ue={class:"block-content fs-sm"},me={class:"mb-4"},fe=["value"],ve={key:0,class:"invalid-feedback d-block"},pe={class:"mb-4"},ye={key:0,class:"invalid-feedback d-block"},ke={class:"mb-4"},_e={class:"input-group"},he=["type"],ge={key:0,class:"invalid-feedback d-block"},xe={class:"form-text"},we={key:0},Ae={key:1},Ie={class:"mb-4"},Pe={class:"form-check"},Ke={key:0,class:"invalid-feedback d-block"},Ce={class:"block-content block-content-full text-end bg-body"},Me=["disabled"],Ee={class:"modal fade",id:"modal-edit-api-key",tabindex:"-1",role:"dialog","aria-labelledby":"modal-edit-api-key","aria-hidden":"true"},Be={class:"modal-dialog modal-dialog-centered",role:"document"},De={class:"modal-content"},Se={class:"block block-rounded block-themed block-transparent mb-0"},Ue={class:"block-content fs-sm"},Ve={class:"mb-4"},Ge={class:"form-control-plaintext"},Oe={class:"mb-4"},$e={key:0,class:"invalid-feedback d-block"},Fe={class:"mb-4"},Le={class:"input-group"},Ne=["type"],Te={key:0,class:"invalid-feedback d-block"},qe={class:"form-text"},Re={key:0},je={key:1},He={class:"mb-4"},Ye={class:"form-check"},ze={key:0,class:"invalid-feedback d-block"},We={class:"block-content block-content-full text-end bg-body"},Je=["disabled"],Qe={class:"modal fade",id:"modal-delete-api-key",tabindex:"-1",role:"dialog","aria-labelledby":"modal-delete-api-key","aria-hidden":"true"},Xe={class:"modal-dialog modal-dialog-centered",role:"document"},Ze={class:"modal-content"},el={class:"block block-rounded block-themed block-transparent mb-0"},ll={class:"block-content fs-sm"},tl={key:0},sl={class:"fw-semibold"},ol={key:0},al={class:"block-content block-content-full text-end bg-body"},il={__name:"Index",props:{apiKeys:{type:Array,required:!0}},setup(B){const i=S({provider:"openai",key:"",label:"",is_default:!1}),o=S({id:null,provider:"",key:"",label:"",is_default:!1}),w=p(null),A=p(null),I=p(null),f=p(null),h=p(!1),v=p(!1),P=[{value:"openai",label:"OpenAI",icon:"fa-brain"},{value:"anthropic",label:"Anthropic",icon:"fa-robot"},{value:"google",label:"Google Gemini",icon:"fa-microchip"},{value:"ollama",label:"Ollama (Local)",icon:"fa-server"}],K=()=>{i.reset(),w.value.show()},F=()=>{i.post(route("api-keys.store"),{onSuccess:()=>{w.value.hide()}})},L=b=>{o.id=b.id,o.provider=b.provider,o.key="",o.label=b.label,o.is_default=b.is_default,A.value.show()},N=()=>{o.put(route("api-keys.update",o.id),{onSuccess:()=>{A.value.hide()}})},T=b=>{f.value=b,I.value.show()},q=()=>{f.value&&(h.value=!0,router.delete(route("api-keys.destroy",f.value.id),{onSuccess:()=>{I.value.hide(),h.value=!1},onError:()=>{h.value=!1}}))},g=b=>P.find(l=>l.value===b)||{label:b,icon:"fa-key"};return H(()=>{w.value=new bootstrap.Modal(document.getElementById("modal-add-api-key")),A.value=new bootstrap.Modal(document.getElementById("modal-edit-api-key")),I.value=new bootstrap.Modal(document.getElementById("modal-delete-api-key"))}),(b,l)=>{const R=U("BasePageHeading"),C=U("BaseBlock"),D=Y("click-ripple");return d(),a(x,null,[_(t(z),{title:"API Keys"}),_(R,{title:"API Keys",subtitle:"Manage your AI provider connections"},{extra:y(()=>[m((d(),a("button",{type:"button",class:"btn btn-alt-primary",onClick:K},l[10]||(l[10]=[e("i",{class:"fa fa-plus opacity-50 me-1"},null,-1),e("span",null,"Add API Key",-1)]))),[[D]])]),_:1}),e("div",J,[e("div",Q,[(d(),a(x,null,M(P,s=>e("div",{class:"col-md-6 col-xl-3",key:s.value},[_(C,{class:"h-100 mb-0"},{title:y(()=>[e("i",{class:k(`fa ${s.icon} me-1 text-muted`)},null,2),r(" "+n(s.label),1)]),options:y(()=>[e("button",{type:"button",class:"btn-block-option",onClick:c=>{t(i).provider=s.value,K()}},l[11]||(l[11]=[e("i",{class:"fa fa-plus"},null,-1)]),8,X)]),default:y(()=>[B.apiKeys.filter(c=>c.provider===s.value).length===0?(d(),a("div",Z,[l[13]||(l[13]=e("div",{class:"text-muted mb-2"},"No API keys configured",-1)),m((d(),a("button",{type:"button",class:"btn btn-sm btn-alt-primary",onClick:c=>{t(i).provider=s.value,K()}},l[12]||(l[12]=[e("i",{class:"fa fa-plus me-1"},null,-1),r(" Add Key ")]),8,ee)),[[D]])])):(d(),a("div",le,[(d(!0),a(x,null,M(B.apiKeys.filter(c=>c.provider===s.value),c=>(d(),a("div",{key:c.id,class:"d-flex align-items-center justify-content-between py-2"},[e("div",null,[e("div",te,[r(n(c.label||"Unnamed Key")+" ",1),c.is_default?(d(),a("span",se,"Default")):u("",!0)]),e("div",oe,n(c.masked_key),1)]),e("div",ae,[e("button",{type:"button",class:"btn btn-sm btn-alt-secondary",onClick:j=>L(c),title:"Edit"},l[14]||(l[14]=[e("i",{class:"fa fa-pencil-alt"},null,-1)]),8,de),e("button",{type:"button",class:"btn btn-sm btn-alt-danger",onClick:j=>T(c),title:"Delete"},l[15]||(l[15]=[e("i",{class:"fa fa-times"},null,-1)]),8,ie)])]))),128))]))]),_:2},1024)])),64))]),_(C,{title:"API Configuration Guides"},{default:y(()=>l[16]||(l[16]=[e("div",{class:"row items-push"},[e("div",{class:"col-md-6 col-xl-3"},[e("div",{class:"d-flex"},[e("div",{class:"flex-shrink-0 me-3"},[e("div",{class:"item item-rounded bg-body"},[e("i",{class:"fa fa-brain text-primary"})])]),e("div",{class:"flex-grow-1"},[e("h4",{class:"fs-md fw-semibold mb-1"},"OpenAI API"),e("p",{class:"text-muted fs-sm mb-2"}," Create API keys in the OpenAI platform to access GPT models. "),e("a",{href:"https://platform.openai.com/api-keys",target:"_blank",class:"btn btn-sm btn-alt-primary"},[e("i",{class:"fa fa-external-link-alt me-1"}),r(" Get Key ")])])])]),e("div",{class:"col-md-6 col-xl-3"},[e("div",{class:"d-flex"},[e("div",{class:"flex-shrink-0 me-3"},[e("div",{class:"item item-rounded bg-body"},[e("i",{class:"fa fa-robot text-info"})])]),e("div",{class:"flex-grow-1"},[e("h4",{class:"fs-md fw-semibold mb-1"},"Anthropic API"),e("p",{class:"text-muted fs-sm mb-2"}," Get API keys for Claude models via the Anthropic console. "),e("a",{href:"https://console.anthropic.com/keys",target:"_blank",class:"btn btn-sm btn-alt-info"},[e("i",{class:"fa fa-external-link-alt me-1"}),r(" Get Key ")])])])]),e("div",{class:"col-md-6 col-xl-3"},[e("div",{class:"d-flex"},[e("div",{class:"flex-shrink-0 me-3"},[e("div",{class:"item item-rounded bg-body"},[e("i",{class:"fa fa-microchip text-danger"})])]),e("div",{class:"flex-grow-1"},[e("h4",{class:"fs-md fw-semibold mb-1"},"Google AI"),e("p",{class:"text-muted fs-sm mb-2"}," Access Gemini models with a Google AI API key. "),e("a",{href:"https://ai.google.dev/",target:"_blank",class:"btn btn-sm btn-alt-danger"},[e("i",{class:"fa fa-external-link-alt me-1"}),r(" Get Key ")])])])]),e("div",{class:"col-md-6 col-xl-3"},[e("div",{class:"d-flex"},[e("div",{class:"flex-shrink-0 me-3"},[e("div",{class:"item item-rounded bg-body"},[e("i",{class:"fa fa-server text-warning"})])]),e("div",{class:"flex-grow-1"},[e("h4",{class:"fs-md fw-semibold mb-1"},"Ollama"),e("p",{class:"text-muted fs-sm mb-2"},' For Ollama, enter your local server URL as the "key". '),e("a",{href:"https://ollama.com/download",target:"_blank",class:"btn btn-sm btn-alt-warning"},[e("i",{class:"fa fa-external-link-alt me-1"}),r(" Install Ollama ")])])])])],-1)])),_:1}),_(C,{title:"Security Information","content-class":"bg-body-light"},{default:y(()=>l[17]||(l[17]=[e("div",{class:"d-flex"},[e("div",{class:"flex-shrink-0 me-3"},[e("i",{class:"fa fa-shield-alt fa-2x text-muted"})]),e("div",null,[e("h4",{class:"fs-lg fw-semibold mt-0 mb-2"},"Your API Keys are Encrypted"),e("p",{class:"text-muted mb-0"}," API keys are stored securely using AES-256 encryption. For extra security, we never show your full API key after it has been saved. You can update your keys at any time by providing a new value. ")])],-1)])),_:1})]),e("div",ne,[e("div",re,[e("div",ce,[e("div",be,[l[24]||(l[24]=E('<div class="block-header bg-primary"><h3 class="block-title">Add API Key</h3><div class="block-options"><button type="button" class="btn-block-option" data-bs-dismiss="modal" aria-label="Close"><i class="fa fa-fw fa-times"></i></button></div></div>',1)),e("form",{onSubmit:V(F,["prevent"])},[e("div",ue,[e("div",me,[l[18]||(l[18]=e("label",{class:"form-label",for:"add-key-provider"},"Provider",-1)),m(e("select",{id:"add-key-provider",class:"form-select","onUpdate:modelValue":l[0]||(l[0]=s=>t(i).provider=s),required:""},[(d(),a(x,null,M(P,s=>e("option",{key:s.value,value:s.value},n(s.label),9,fe)),64))],512),[[W,t(i).provider]]),t(i).errors.provider?(d(),a("div",ve,n(t(i).errors.provider),1)):u("",!0)]),e("div",pe,[l[19]||(l[19]=e("label",{class:"form-label",for:"add-key-label"},"Label (optional)",-1)),m(e("input",{id:"add-key-label",type:"text",class:"form-control","onUpdate:modelValue":l[1]||(l[1]=s=>t(i).label=s),placeholder:"e.g., Production, Development"},null,512),[[G,t(i).label]]),t(i).errors.label?(d(),a("div",ye,n(t(i).errors.label),1)):u("",!0)]),e("div",ke,[l[20]||(l[20]=e("label",{class:"form-label",for:"add-key-value"},"API Key",-1)),e("div",_e,[m(e("input",{id:"add-key-value",type:v.value?"text":"password",class:"form-control","onUpdate:modelValue":l[2]||(l[2]=s=>t(i).key=s),placeholder:"Enter API key",required:""},null,8,he),[[O,t(i).key]]),e("button",{type:"button",class:"btn btn-alt-secondary",onClick:l[3]||(l[3]=s=>v.value=!v.value)},[e("i",{class:k(v.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])]),t(i).errors.key?(d(),a("div",ge,n(t(i).errors.key),1)):u("",!0),e("div",xe,[t(i).provider==="ollama"?(d(),a("span",we," For Ollama, enter the URL (e.g., http://localhost:11434) ")):(d(),a("span",Ae," Enter the API key from your provider's dashboard "))])]),e("div",Ie,[e("div",Pe,[m(e("input",{id:"add-key-default",type:"checkbox",class:"form-check-input","onUpdate:modelValue":l[4]||(l[4]=s=>t(i).is_default=s)},null,512),[[$,t(i).is_default]]),l[21]||(l[21]=e("label",{class:"form-check-label",for:"add-key-default"}," Set as default for this provider ",-1))]),t(i).errors.is_default?(d(),a("div",Ke,n(t(i).errors.is_default),1)):u("",!0)])]),e("div",Ce,[l[23]||(l[23]=e("button",{type:"button",class:"btn btn-sm btn-alt-secondary me-1","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:t(i).processing},l[22]||(l[22]=[e("i",{class:"fa fa-fw fa-check opacity-50 me-1"},null,-1),r(" Add Key ")]),8,Me)])],32)])])])]),e("div",Ee,[e("div",Be,[e("div",De,[e("div",Se,[l[31]||(l[31]=E('<div class="block-header bg-primary"><h3 class="block-title">Edit API Key</h3><div class="block-options"><button type="button" class="btn-block-option" data-bs-dismiss="modal" aria-label="Close"><i class="fa fa-fw fa-times"></i></button></div></div>',1)),e("form",{onSubmit:V(N,["prevent"])},[e("div",Ue,[e("div",Ve,[l[25]||(l[25]=e("label",{class:"form-label"},"Provider",-1)),e("div",Ge,[e("i",{class:k(`fa ${g(t(o).provider).icon} me-1`)},null,2),r(" "+n(g(t(o).provider).label),1)])]),e("div",Oe,[l[26]||(l[26]=e("label",{class:"form-label",for:"edit-key-label"},"Label (optional)",-1)),m(e("input",{id:"edit-key-label",type:"text",class:"form-control","onUpdate:modelValue":l[5]||(l[5]=s=>t(o).label=s),placeholder:"e.g., Production, Development"},null,512),[[G,t(o).label]]),t(o).errors.label?(d(),a("div",$e,n(t(o).errors.label),1)):u("",!0)]),e("div",Fe,[l[27]||(l[27]=e("label",{class:"form-label",for:"edit-key-value"},"New API Key (leave blank to keep current)",-1)),e("div",Le,[m(e("input",{id:"edit-key-value",type:v.value?"text":"password",class:"form-control","onUpdate:modelValue":l[6]||(l[6]=s=>t(o).key=s),placeholder:"Enter new API key"},null,8,Ne),[[O,t(o).key]]),e("button",{type:"button",class:"btn btn-alt-secondary",onClick:l[7]||(l[7]=s=>v.value=!v.value)},[e("i",{class:k(v.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])]),t(o).errors.key?(d(),a("div",Te,n(t(o).errors.key),1)):u("",!0),e("div",qe,[t(o).provider==="ollama"?(d(),a("span",Re," For Ollama, enter the URL (e.g., http://localhost:11434) ")):(d(),a("span",je," Only enter a new value if you want to change the current key "))])]),e("div",He,[e("div",Ye,[m(e("input",{id:"edit-key-default",type:"checkbox",class:"form-check-input","onUpdate:modelValue":l[8]||(l[8]=s=>t(o).is_default=s)},null,512),[[$,t(o).is_default]]),l[28]||(l[28]=e("label",{class:"form-check-label",for:"edit-key-default"}," Set as default for this provider ",-1))]),t(o).errors.is_default?(d(),a("div",ze,n(t(o).errors.is_default),1)):u("",!0)])]),e("div",We,[l[30]||(l[30]=e("button",{type:"button",class:"btn btn-sm btn-alt-secondary me-1","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"submit",class:"btn btn-sm btn-primary",disabled:t(o).processing},l[29]||(l[29]=[e("i",{class:"fa fa-fw fa-check opacity-50 me-1"},null,-1),r(" Update Key ")]),8,Je)])],32)])])])]),e("div",Qe,[e("div",Xe,[e("div",Ze,[e("div",el,[l[36]||(l[36]=E('<div class="block-header bg-danger"><h3 class="block-title">Delete API Key</h3><div class="block-options"><button type="button" class="btn-block-option" data-bs-dismiss="modal" aria-label="Close"><i class="fa fa-fw fa-times"></i></button></div></div>',1)),e("div",ll,[l[32]||(l[32]=e("p",null,"Are you sure you want to delete this API key?",-1)),f.value?(d(),a("p",tl,[e("span",sl,[e("i",{class:k(`fa ${g(f.value.provider).icon} me-1`)},null,2),r(" "+n(g(f.value.provider).label),1)]),f.value.label?(d(),a("span",ol," - "+n(f.value.label),1)):u("",!0)])):u("",!0),l[33]||(l[33]=e("p",{class:"text-danger"},[e("i",{class:"fa fa-exclamation-triangle me-1"}),r(" This action cannot be undone. Workflows using this API key will no longer function. ")],-1))]),e("div",al,[l[35]||(l[35]=e("button",{type:"button",class:"btn btn-sm btn-alt-secondary me-1","data-bs-dismiss":"modal"},"Cancel",-1)),e("button",{type:"button",class:k(["btn btn-sm btn-danger",{disabled:h.value}]),onClick:l[9]||(l[9]=s=>q())},l[34]||(l[34]=[e("i",{class:"fa fa-fw fa-trash opacity-50 me-1"},null,-1),r(" Delete Key ")]),2)])])])])])],64)}}};export{il as default};
