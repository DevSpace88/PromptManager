import{f as N,z as T,c as o,o as s,b as p,d as t,u as g,t as d,q as b,l as U,e as r,n as m,v as f,F as k,h}from"./app-BMtBWTXu.js";import{u as $,d as y}from"./vue-flow-core-CuB5rKV4.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"prompt-node-content"},O={class:"prompt-node-header"},q={class:"prompt-node-label"},D=["title"],F={key:0,class:"prompt-node-settings"},L={class:"setting-group"},z={class:"setting-option"},A={class:"form-check"},E=["checked"],H={class:"form-check"},I=["checked"],j={key:0,class:"setting-group"},J={class:"setting-option"},K={class:"setting-group"},Q={class:"setting-option"},R=["value"],W={class:"setting-group"},X={class:"setting-option"},Y=["value"],Z={class:"setting-group"},_={class:"setting-option d-flex align-items-center gap-2"},ee={class:"badge bg-primary"},te={class:"setting-group"},ae={class:"setting-option"},le={class:"setting-group"},oe={class:"setting-option"},se={key:1,class:"prompt-node-summary"},ne={key:0},ie={key:1,class:"prompt-content-preview"},de={class:"prompt-node-model"},re={__name:"PromptNode",props:{id:{type:String,required:!0},data:{type:Object,required:!0},selected:{type:Boolean,default:!1},isConnectable:{type:Boolean,default:!0}},setup(a){const v=a,{findNode:C,setNodes:x}=$(),i=N({showSettings:!1,availableProviders:[{value:"openai",label:"OpenAI"},{value:"anthropic",label:"Anthropic"},{value:"google",label:"Google"},{value:"ollama",label:"Ollama (Local)"}],availableModels:{openai:[{value:"gpt-4-turbo",label:"GPT-4 Turbo"},{value:"gpt-4",label:"GPT-4"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo"}],anthropic:[{value:"claude-3-opus",label:"Claude 3 Opus"},{value:"claude-3-sonnet",label:"Claude 3 Sonnet"},{value:"claude-3-haiku",label:"Claude 3 Haiku"}],google:[{value:"gemini-pro",label:"Gemini Pro"},{value:"gemini-ultra",label:"Gemini Ultra"}],ollama:[{value:"llama3",label:"Llama 3"},{value:"mistral",label:"Mistral"},{value:"mixtral",label:"Mixtral"}]}}),w=T(()=>i.value.availableModels[v.data.provider]||[]),S=()=>{i.value.showSettings=!i.value.showSettings},n=(u,e)=>{const l=C(v.id);if(!l)return;const V={...l,data:{...l.data,[u]:e}};x(M=>M.map(c=>c.id===v.id?V:c))},P=u=>{n("provider",u);const e=i.value.availableModels[u]||[];e.length>0&&n("model",e[0].value)};return(u,e)=>(s(),o("div",{class:b(["prompt-node",{selected:a.selected}])},[p(g(y),{type:"source",position:"bottom",id:a.id+"-source",connectable:a.isConnectable},null,8,["id","connectable"]),p(g(y),{type:"target",position:"top",id:a.id+"-target",connectable:a.isConnectable},null,8,["id","connectable"]),t("div",B,[t("div",O,[e[14]||(e[14]=t("i",{class:"fa fa-file-alt text-primary me-1"},null,-1)),t("span",q,d(a.data.label),1),t("button",{type:"button",class:"prompt-node-toggle",onClick:S,title:i.value.showSettings?"Hide settings":"Show settings"},[t("i",{class:b(["fa",i.value.showSettings?"fa-chevron-up":"fa-chevron-down"])},null,2)],8,D)]),i.value.showSettings?(s(),o("div",F,[t("div",L,[e[17]||(e[17]=t("label",{class:"setting-label"},"Prompt Source",-1)),t("div",z,[t("div",A,[t("input",{type:"radio",id:"prompt-source-saved",class:"form-check-input",value:!0,checked:a.data.prompt_id!==null,onChange:e[0]||(e[0]=l=>n("prompt_id",a.data.prompt_id||""))},null,40,E),e[15]||(e[15]=t("label",{class:"form-check-label",for:"prompt-source-saved"},"Use saved prompt",-1))]),t("div",H,[t("input",{type:"radio",id:"prompt-source-custom",class:"form-check-input",value:!1,checked:a.data.prompt_id===null,onChange:e[1]||(e[1]=l=>n("prompt_id",null))},null,40,I),e[16]||(e[16]=t("label",{class:"form-check-label",for:"prompt-source-custom"},"Custom prompt",-1))])])]),a.data.prompt_id===null?(s(),o("div",j,[e[18]||(e[18]=t("label",{class:"setting-label"},"Prompt",-1)),t("div",J,[r(t("textarea",{class:"form-control form-control-sm","onUpdate:modelValue":e[2]||(e[2]=l=>a.data.content=l),rows:"3",placeholder:"Enter prompt text with {{variables}}",onChange:e[3]||(e[3]=l=>n("content",a.data.content))},null,544),[[m,a.data.content]])])])):U("",!0),t("div",K,[e[19]||(e[19]=t("label",{class:"setting-label"},"Provider",-1)),t("div",Q,[r(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[4]||(e[4]=l=>a.data.provider=l),onChange:e[5]||(e[5]=l=>P(a.data.provider))},[(s(!0),o(k,null,h(i.value.availableProviders,l=>(s(),o("option",{key:l.value,value:l.value},d(l.label),9,R))),128))],544),[[f,a.data.provider]])])]),t("div",W,[e[20]||(e[20]=t("label",{class:"setting-label"},"Model",-1)),t("div",X,[r(t("select",{class:"form-select form-select-sm","onUpdate:modelValue":e[6]||(e[6]=l=>a.data.model=l),onChange:e[7]||(e[7]=l=>n("model",a.data.model))},[(s(!0),o(k,null,h(w.value,l=>(s(),o("option",{key:l.value,value:l.value},d(l.label),9,Y))),128))],544),[[f,a.data.model]])])]),t("div",Z,[e[21]||(e[21]=t("label",{class:"setting-label"},"Temperature",-1)),t("div",_,[r(t("input",{type:"range",class:"form-range",min:"0",max:"2",step:"0.1","onUpdate:modelValue":e[8]||(e[8]=l=>a.data.temperature=l),onChange:e[9]||(e[9]=l=>n("temperature",a.data.temperature))},null,544),[[m,a.data.temperature,void 0,{number:!0}]]),t("span",ee,d(a.data.temperature),1)])]),t("div",te,[e[22]||(e[22]=t("label",{class:"setting-label"},"Max Tokens",-1)),t("div",ae,[r(t("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":e[10]||(e[10]=l=>a.data.max_tokens=l),min:"1",max:"8192",onChange:e[11]||(e[11]=l=>n("max_tokens",a.data.max_tokens))},null,544),[[m,a.data.max_tokens,void 0,{number:!0}]])])]),t("div",le,[e[23]||(e[23]=t("label",{class:"setting-label"},"Save To",-1)),t("div",oe,[r(t("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":e[12]||(e[12]=l=>a.data.output_variable=l),placeholder:"Variable name",onChange:e[13]||(e[13]=l=>n("output_variable",a.data.output_variable))},null,544),[[m,a.data.output_variable]])])])])):(s(),o("div",se,[a.data.prompt_id?(s(),o("div",ne,"Using saved prompt")):(s(),o("div",ie,d((a.data.content||"").substring(0,30))+d((a.data.content||"").length>30?"...":""),1)),t("div",de,d(a.data.provider)+" / "+d(a.data.model),1)]))])],2))}},ce=G(re,[["__scopeId","data-v-e1534f5a"]]);export{ce as default};
